module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},95819,a=>{a.n(a.i(1487))},39113,a=>{a.n(a.i(31257))},64085,a=>{a.n(a.i(96020))},70628,a=>{a.n(a.i(39485))},55294,a=>{a.n(a.i(93922))},55289,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},17634,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return e}});class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class e extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},38642,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return n},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return k},redirect:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(75863),g=a.r(80869),h=a.r(20635).actionAsyncStorage;function i(a,b,c=f.RedirectStatusCode.TemporaryRedirect){let d=Object.defineProperty(Error(g.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=`${g.REDIRECT_ERROR_CODE};${b};${a};${c};`,d}function j(a,b){throw i(a,b??=h?.getStore()?.isAction?g.RedirectType.push:g.RedirectType.replace,f.RedirectStatusCode.TemporaryRedirect)}function k(a,b=g.RedirectType.replace){throw i(a,b,f.RedirectStatusCode.PermanentRedirect)}function l(a){return(0,g.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function m(a){if(!(0,g.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function n(a){if(!(0,g.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},98270,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"notFound",{enumerable:!0,get:function(){return f}});let d=a.r(27476),e=`${d.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function f(){let a=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=e,a}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},44231,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"forbidden",{enumerable:!0,get:function(){return d}}),a.r(27476).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},38637,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unauthorized",{enumerable:!0,get:function(){return d}}),a.r(27476).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},21986,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isPostpone",{enumerable:!0,get:function(){return e}});let d=Symbol.for("react.postpone");function e(a){return"object"==typeof a&&null!==a&&a.$$typeof===d}},23406,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b)||(0,h.isPrerenderInterruptedError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=a.r(94707),e=a.r(21986),f=a.r(60277),g=a.r(76636),h=a.r(50820),i=a.r(76401);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},72434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=a.r(23406).unstable_rethrow;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},91560,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={ReadonlyURLSearchParams:function(){return f.ReadonlyURLSearchParams},RedirectType:function(){return h.RedirectType},forbidden:function(){return j.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return g.permanentRedirect},redirect:function(){return g.redirect},unauthorized:function(){return k.unauthorized},unstable_isUnrecognizedActionError:function(){return m},unstable_rethrow:function(){return l.unstable_rethrow}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(17634),g=a.r(38642),h=a.r(80869),i=a.r(98270),j=a.r(44231),k=a.r(38637),l=a.r(72434);function m(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},19875,a=>{"use strict";a.i(91560),a.s([])},55965,a=>{"use strict";a.s(["ItemSheetProvider",()=>c,"ItemSheetTrigger",()=>d]);var b=a.i(1414);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call ItemSheetProvider() from the server but ItemSheetProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/items/item-detail-controller.tsx <module evaluation>","ItemSheetProvider"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call ItemSheetTrigger() from the server but ItemSheetTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/items/item-detail-controller.tsx <module evaluation>","ItemSheetTrigger")},3392,a=>{"use strict";a.s(["ItemSheetProvider",()=>c,"ItemSheetTrigger",()=>d]);var b=a.i(1414);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call ItemSheetProvider() from the server but ItemSheetProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/items/item-detail-controller.tsx","ItemSheetProvider"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call ItemSheetTrigger() from the server but ItemSheetTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/items/item-detail-controller.tsx","ItemSheetTrigger")},4216,a=>{"use strict";a.i(55965);var b=a.i(3392);a.n(b)},8953,a=>{"use strict";a.s(["CatalogSearch",()=>b]);let b=(0,a.i(1414).registerClientReference)(function(){throw Error("Attempted to call CatalogSearch() from the server but CatalogSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/search/catalog-search.tsx <module evaluation>","CatalogSearch")},29435,a=>{"use strict";a.s(["CatalogSearch",()=>b]);let b=(0,a.i(1414).registerClientReference)(function(){throw Error("Attempted to call CatalogSearch() from the server but CatalogSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/krafta/components/catalogs/search/catalog-search.tsx","CatalogSearch")},40958,a=>{"use strict";a.i(8953);var b=a.i(29435);a.n(b)},49568,a=>{"use strict";var b=a.i(61933),c=a.i(23650),d=a.i(36315),e=a.i(57730),f=a.i(95634);let g="https://hlmcoirjaydrfqcmnuun.supabase.co";var h=a.i(4216),i=a.i(40958);function j({catalog:a,categoriesWithItems:j,activeCategorySlug:k=null,activeItemSlug:l=null,baseHref:m,layoutOverride:n,currencyOverride:o}){let p=m??`/${a.slug}`,{layout:q,currency:r}=(0,c.normalizeCatalogSettings)(a),s=n?(0,d.normalizeLayoutSettings)({...q,...n,itemCard:{...q.itemCard,...n.itemCard??{}}}):q,t=o?(0,e.normalizeCurrencySettings)({...r,...o}):r,{Header:u,Section:v,ItemCard:w,CategoryNav:x}=(0,f.resolveCatalogLayout)(s),y=a.logo_path&&g?`${g}/storage/v1/object/public/krafta/${a.logo_path}`:null,z=s.itemCard.columns,A=s.itemCard.aspectRatio,B=function(a){switch(a){case 1:return"grid-cols-1";case 3:return"grid-cols-3";case 4:return"grid-cols-4";default:return"grid-cols-2"}}(z),C=k&&k.length>0?k:null,D=C?j.find(a=>a.slug===C):null,E=D?.id??null,F=D?.slug??null;return(0,b.jsxs)(h.ItemSheetProvider,{categoriesWithItems:j,activeCategorySlug:F,activeItemSlug:l,baseHref:p,itemAspectRatio:A,itemDetailVariant:s.itemDetailVariant,currencySettings:t,children:[(0,b.jsxs)("main",{className:"mx-auto flex min-h-screen max-w-2xl flex-col gap-6 px-4 py-8 text-foreground",children:[(0,b.jsx)(u,{catalogName:a.name,catalog:a,logoUrl:y,description:a.description,tags:a.tags}),x&&(0,b.jsx)(x,{categories:j,activeCategoryId:E,activeCategorySlug:F,baseHref:p}),(0,b.jsxs)("section",{className:"space-y-8",children:[0===j.length&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No categories or items in this catalog yet."}),j.map(a=>{let c=a.slug??String(a.id);return(0,b.jsx)(v,{category:a,children:0===a.items.length?(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"No items in this category yet."}):(0,b.jsx)("div",{className:`grid gap-2 ${B}`,children:a.items.map(a=>{let d=a.slug??String(a.id);return(0,b.jsx)(h.ItemSheetTrigger,{itemSlug:d,categorySlug:c,children:(0,b.jsx)(w,{imageAspectRatio:A,item:a,imageUrl:a.image_path&&g?`${g}/storage/v1/object/public/krafta/${a.image_path}`:null,currencySettings:t})},a.id)})})},a.id)})]})]}),(0,b.jsx)(i.CatalogSearch,{})]})}a.s(["CatalogLayout",()=>j],49568)},61153,a=>{"use strict";var b=a.i(61933);a.i(19875);var c=a.i(91560),d=a.i(89688),e=a.i(49568);function f({params:a}){return(0,b.jsx)(g,{params:a})}async function g({params:a}){let{slug:f}=await a;f&&0!==f.length||(0,c.notFound)();let[g,h,i]=f??[],j=f.length>=2?h:null,k=f.length>=3?i:null,l=await (0,d.getCatalogBySlug)(g);l||(0,c.notFound)();let m=await (0,d.getCatalogStructure)(l.id);return(0,b.jsx)(e.CatalogLayout,{catalog:l,categoriesWithItems:m,activeCategorySlug:j,activeItemSlug:k,baseHref:`/${l.slug}`})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bf93cdf8._.js.map