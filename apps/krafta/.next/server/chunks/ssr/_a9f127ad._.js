module.exports=[65e3,(a,b,c)=>{"use strict";b.exports=a.r(96730).vendored["react-ssr"].ReactServerDOMTurbopackClient},38502,a=>{"use strict";var b=a.i(17091),c=a.i(11759);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{"data-slot":"input",type:d,className:(0,c.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-colors file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:opacity-50 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none",a),...e})}a.s(["Input",()=>d])},75797,5206,a=>{"use strict";let b=(0,a.i(72873).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["default",()=>b],75797);var c=a.i(17091),d=a.i(14092),e=a.i(86923),f=a.i(11759);function g({...a}){return(0,c.jsx)(d.Root,{"data-slot":"dialog",...a})}function h({...a}){return(0,c.jsx)(d.Trigger,{"data-slot":"dialog-trigger",...a})}function i({...a}){return(0,c.jsx)(d.Portal,{"data-slot":"dialog-portal",...a})}function j({...a}){return(0,c.jsx)(d.Close,{"data-slot":"dialog-close",...a})}function k({className:a,...b}){return(0,c.jsx)(d.Overlay,{"data-slot":"dialog-overlay",className:(0,f.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function l({className:a,children:b,showCloseButton:g=!0,...h}){return(0,c.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,c.jsx)(k,{}),(0,c.jsxs)(d.Content,{"data-slot":"dialog-content",className:(0,f.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...h,children:[b,g&&(0,c.jsxs)(d.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,c.jsx)(e.XIcon,{}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"dialog-header",className:(0,f.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function n({className:a,...b}){return(0,c.jsx)(d.Title,{"data-slot":"dialog-title",className:(0,f.cn)("text-lg leading-none font-semibold",a),...b})}function o({className:a,...b}){return(0,c.jsx)(d.Description,{"data-slot":"dialog-description",className:(0,f.cn)("text-muted-foreground text-sm",a),...b})}a.s(["Dialog",()=>g,"DialogClose",()=>j,"DialogContent",()=>l,"DialogDescription",()=>o,"DialogHeader",()=>m,"DialogTitle",()=>n,"DialogTrigger",()=>h],5206)},79743,a=>{"use strict";var b=a.i(17091),c=a.i(76111),d=a.i(24086),e=a.i(11759),f=a.i(39082),g=a.i(66842);function h({item:a,category:c,imageUrl:e,itemAspectRatio:h}){return(0,b.jsxs)("div",{className:"mx-auto mt-3 flex h-[80vh] max-w-sm flex-col gap-4 overflow-y-auto px-4 sm:px-6",children:[e&&(0,b.jsx)(g.AspectRatio,{ratio:h??4/3,className:"w-full overflow-hidden rounded-lg bg-muted",children:(0,b.jsx)(f.default,{src:e,alt:a.name??"",fill:!0,className:"h-full w-full object-cover dark:brightness-[0.9]"})}),(0,b.jsx)(d.DrawerHeader,{className:"flex flex-row items-start justify-between gap-3 px-0",children:(0,b.jsxs)("div",{className:"space-y-1",children:[c?(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:c.name}):null,(0,b.jsx)(d.DrawerTitle,{className:"text-lg",children:a.name}),a.description&&(0,b.jsx)(d.DrawerDescription,{className:"text-sm text-muted-foreground",children:a.description})]})})]})}var i=a.i(21677);let j=(0,c.createContext)(null);function k({categoriesWithItems:a,activeCategorySlug:f=null,activeItemSlug:g=null,baseHref:k,children:l,itemAspectRatio:m,itemDetailVariant:n="item-sheet",currencySettings:o}){let p="item-fullscreen"===n?i.ItemDetailFullscreen:h,q=(0,c.useMemo)(()=>k.replace(/\/+$/,"")||"/",[k]),r=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{a.items.forEach(a=>{b[a.slug??String(a.id)]=a})}),b},[a]),s=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{let c=a.slug??String(a.id);a.items.forEach(a=>{b[a.slug??String(a.id)]=c})}),b},[a]),t=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{b[a.slug??String(a.id)]=a}),b},[a]),u=(0,c.useMemo)(()=>q.replace(/^\/+/,"").split("/").filter(Boolean),[q]),[v,w]=(0,c.useState)(!!g&&!!r[g]),[x,y]=(0,c.useState)(g??null),[z,A]=(0,c.useState)(f??null);if((0,c.useEffect)(()=>{if(g&&r[g]){let a=f??s[g]??null;y(g),A(a),w(!0)}},[f,g,r,s]),(0,c.useEffect)(()=>{function a(){let a=window.location.pathname.replace(/^\/+/,"").split("/").filter(Boolean);if(!u.every((b,c)=>a[c]===b))return;let b=a[u.length]??null,c=a[u.length+1]??null,d=b&&t[b]?b:null;if(c&&r[c]){let a=d??s[c]??null;y(c),A(a),w(!0)}else w(!1),y(null),A(d)}return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[u,t,r,s]),!a.length)return(0,b.jsx)(b.Fragment,{children:l});let B=x?r[x]:null,C=z?t[z]??null:null,D=B&&B.image_path?`https://hlmcoirjaydrfqcmnuun.supabase.co/storage/v1/object/public/krafta/${B.image_path}`:null;function E(a,b){let c=a?`/${a}`:"",d=b?`/${b}`:"";return`${q}${c}${d}`}function F(){let a=E(z??f??null,null);w(!1),y(null),window.history.replaceState(null,"",a)}let G={openItem:function(a,b){let c=a??null;if(!c||!r[c])return;let d=b??s[c]??f??null,e=E(d,c);y(c),A(d??null),w(!0),window.history.pushState(null,"",e)},closeItem:F};return"item-fullscreen"===n?((0,c.useEffect)(()=>{if(!v)return;let a=document.body.style.overflow,b=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=a,document.documentElement.style.overflow=b}},[v]),(0,b.jsxs)(j.Provider,{value:G,children:[l,v&&B&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 md:flex md:items-center md:justify-center md:p-6",children:(0,b.jsx)(p,{item:B,category:C,imageUrl:D,itemAspectRatio:m,onClose:F,currencySettings:o})})]})):(0,b.jsxs)(j.Provider,{value:G,children:[l,(0,b.jsx)(d.Drawer,{open:v&&!!B,onOpenChange:a=>{a||F()},children:(0,b.jsx)(d.DrawerContent,{className:(0,e.cn)("bg-background px-0 pb-4 pt-2 sm:px-0","item-fullscreen"===n?"h-[100dvh] p-0":void 0),children:B&&(0,b.jsx)(p,{item:B,category:C,imageUrl:D,itemAspectRatio:m,currencySettings:o})})})]})}function l({itemSlug:a,categorySlug:d,children:e}){let{openItem:f}=function(){let a=(0,c.useContext)(j);if(!a)throw Error("ItemSheet components must be used inside ItemSheetProvider.");return a}();return(0,b.jsx)("button",{type:"button",onClick:()=>f(a,d),className:"block w-full text-left",children:e})}a.s(["ItemSheetProvider",()=>k,"ItemSheetTrigger",()=>l],79743)},58743,a=>{"use strict";var b=a.i(17091),c=a.i(76111),d=a.i(75797),d=d,e=a.i(56117),e=e,f=a.i(5206),g=a.i(47537),h=a.i(38502),i=a.i(11759),j=a.i(14092);let k=[{title:"Simply Draw: Learn to Draw",subtitle:"Illustration course",tag:"Featured"},{title:"Vintage Shop",subtitle:"Handmade ceramics",tag:"Catalog"},{title:"Krafta Essentials",subtitle:"Minimal product set",tag:"Collection"},{title:"Teplo Fest x Krafta",subtitle:"Limited merch drop",tag:"Event"}];function l(){let[a,l]=c.useState(!1),[m,n]=c.useState(""),o=c.useRef(null);c.useEffect(()=>{if(!a)return;let b=requestAnimationFrame(()=>o.current?.focus());return()=>cancelAnimationFrame(b)},[a]);let p=c.useMemo(()=>{let a=m.trim().toLowerCase();return a?k.filter(b=>`${b.title} ${b.subtitle} ${b.tag}`.toLowerCase().includes(a)):k},[m]);return(0,b.jsxs)(f.Dialog,{open:a,onOpenChange:l,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{type:"button","aria-label":"Open search",variant:"outline",size:"icon",className:"fixed bottom-6 right-6 z-40 rounded-full shadow-sm",children:(0,b.jsx)(d.default,{className:"h-4 w-4"})})}),(0,b.jsxs)(f.DialogContent,{showCloseButton:!1,className:(0,i.cn)("fixed inset-0 !left-0 !top-0 z-50 h-[100dvh] w-[100dvw] !translate-x-0 !translate-y-0","!max-w-none !rounded-none !border-0 !p-0","bg-background","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0"),children:[(0,b.jsx)(j.DialogTitle,{className:"sr-only",children:"Catalog Search"}),(0,b.jsxs)("div",{className:"flex h-full w-full flex-col gap-6 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Input,{ref:o,value:m,onChange:a=>n(a.target.value),placeholder:"Type to search...",className:"h-12 text-base rounded-none border-0 shadow-none"}),(0,b.jsx)(f.DialogClose,{asChild:!0,children:(0,b.jsx)(g.Button,{type:"button","aria-label":"Close search",variant:"outline",size:"icon",className:"rounded-full",children:(0,b.jsx)(e.default,{className:"h-4 w-4"})})})]}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:0===p.length?(0,b.jsx)("p",{className:"col-span-full p-4 text-sm text-muted-foreground",children:"No matches yet. Try another keyword."}):p.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 shadow-xs",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:a.tag}),(0,b.jsx)("h3",{className:"mt-2 text-base font-semibold",children:a.title}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:a.subtitle})]},a.title))})]})]})]})}a.s(["CatalogSearch",()=>l],58743)}];

//# sourceMappingURL=_a9f127ad._.js.map