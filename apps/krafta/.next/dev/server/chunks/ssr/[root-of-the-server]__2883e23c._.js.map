{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/bakh/VSCode/krafta/apps/krafta/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\";\nimport type { Database } from \"@/lib/supabase/types\";\nimport { cookies } from \"next/headers\";\n\n/**\n * Especially important if using Fluid compute: Don't put this client in a\n * global variable. Always create a new client within each function when using\n * it.\n */\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options),\n            );\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    },\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;;;AAOO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,2SAAO;IAEjC,OAAO,IAAA,4SAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/bakh/VSCode/krafta/apps/krafta/lib/dashboard/routing.ts"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\n\nexport async function getDefaultOrgSlug() {\n  const supabase = await createClient();\n\n  const { data } = await supabase\n    .from(\"organizations\")\n    .select(\"slug\")\n    .order(\"created_at\", { ascending: true })\n    .limit(1)\n    .maybeSingle();\n\n  // If nothing in DB, fall back to a known slug\n  return data?.slug ?? \"default-org\";\n}\n\nexport async function getDefaultCatalogSlug(orgSlug: string) {\n  const supabase = await createClient();\n\n  const { data } = await supabase\n    .from(\"catalogs\")\n    .select(\"slug, org_id, organizations!inner(slug)\")\n    .eq(\"organizations.slug\", orgSlug)\n    .order(\"created_at\", { ascending: true })\n    .limit(1)\n    .maybeSingle();\n\n  // If no catalog for org, fall back to a known slug\n  return data?.slug ?? \"default-catalog\";\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,IAAA,2JAAY;IAEnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,iBACL,MAAM,CAAC,QACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK,GACtC,KAAK,CAAC,GACN,WAAW;IAEd,8CAA8C;IAC9C,OAAO,MAAM,QAAQ;AACvB;AAEO,eAAe,sBAAsB,OAAe;IACzD,MAAM,WAAW,MAAM,IAAA,2JAAY;IAEnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,2CACP,EAAE,CAAC,sBAAsB,SACzB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK,GACtC,KAAK,CAAC,GACN,WAAW;IAEd,mDAAmD;IACnD,OAAO,MAAM,QAAQ;AACvB"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/bakh/VSCode/krafta/apps/krafta/app/dashboard/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport {\n  getDefaultCatalogSlug,\n  getDefaultOrgSlug,\n} from \"@/lib/dashboard/routing\";\n\nexport default async function DashboardRootPage() {\n  const orgSlug = await getDefaultOrgSlug();\n  const catalogSlug = await getDefaultCatalogSlug(orgSlug);\n\n  redirect(`/dashboard/${orgSlug}/${catalogSlug}`);\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAKe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,kKAAiB;IACvC,MAAM,cAAc,MAAM,IAAA,sKAAqB,EAAC;IAEhD,IAAA,kWAAQ,EAAC,CAAC,WAAW,EAAE,QAAQ,CAAC,EAAE,aAAa;AACjD"}}]
}